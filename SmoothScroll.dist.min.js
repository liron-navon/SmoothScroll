"use strict";var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var SmoothScroll=function(){function a(b){_classCallCheck(this,a);var c={el:"html",scrollTime:1e3,targetHeightPercentageFromTop:50},d=b.targetHeightPercentageFromTop?b.targetHeightPercentageFromTop:c.targetHeightPercentageFromTop,e=b.el?b.el:c.el;this.scrollElement=document.querySelector(e),this.settings={scrollTime:b.scrollTime|c.scrollTime,targetHeightPercentageFromTop:Math.min(Math.max(d,1),100)/100}}return _createClass(a,[{key:"scrollToElement",value:function scrollToElement(b){var h=this;this.intervalId&&clearInterval(this.intervalId);var j,c=this.getScrollParamenters(b),d=c.targetPosition,e=Math.abs(this.scrollElement.scrollTop-d),f=Math.round(c.stepDirection*e/(60*(this.settings.scrollTime/1e3))),g=function(){return 0>f?h.scrollElement.scrollTop<=d:!(0<f)||h.scrollElement.scrollTop>=d};this.intervalId=setInterval(function(){j=h.scrollElement.scrollTop,h.scrollElement.scrollTop+=f,(g()||h.scrollElement.scrollTop===j)&&clearInterval(h.intervalId)},16.6666667)}},{key:"getScrollParamenters",value:function getScrollParamenters(b){var c=document.body.getBoundingClientRect(),d=b.getBoundingClientRect(),e=d.top-c.top;e-=window.innerHeight*this.settings.targetHeightPercentageFromTop;var f=0;return this.scrollElement.scrollTop>e?f=-1:this.scrollElement.scrollTop<e&&(f=1),{stepDirection:f,targetPosition:Math.round(e)}}},{key:"listenToAllInternalLinks",value:function listenToAllInternalLinks(){var c=this,b=[];b.push.apply(b,_toConsumableArray(document.querySelectorAll("[href^='#']"))),b.forEach(function(d){d.addEventListener("click",function(e){e.preventDefault();var f=e.target.href;if(!f){for(var g=0;3>g&&(f=e.target.parentElement.href,!f);g++);if(!f)return}var h=f.substring(f.lastIndexOf("#")+1);if(h){var j=document.getElementById(h);j&&c.scrollToElement(j)}})})}}]),a}();
